{"version":3,"sources":["route-box.js","header.js","routes.js","App.js","reportWebVitals.js","index.js"],"names":["RouteBox","props","className","from","name_tw","available_spaces","to","empty_spaces","defaultProps","Header","useState","target","destination","setDestination","type","id","onClick","e","event","value","checked","document","title","onSwitchDestination","handleClick","defaultChecked","routes2Work","routes2Home","App","stops","setStops","Date","getHours","setTarget","selectedView","setSelectedView","useEffect","Promise","all","fetch","then","res","json","responseV1","responseV2","allStops","Object","values","retVal","map","o","station_no","sno","sna","Number","bemp","sbi","concat","t","route","index","find","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0fca9c75.chunk.js","sourcesContent":["import \"./route-box.css\";\n\nfunction RouteBox(props) {\n  return (\n    <div className=\"container\">\n      <div className=\"item\">\n        <span>\n          <b>{props.from.name_tw}</b>\n        </span>\n        <p className=\"space-info\">\n          ÂèØÂÄü&nbsp;{props.from.available_spaces}&nbsp;Âè∞\n        </p>\n      </div>\n      <div className=\"item\">\n        <div className=\"triangle\" />\n      </div>\n      <div className=\"item\">\n        <span>\n          <b>{props.to.name_tw}</b>\n        </span>\n        <p className=\"space-info\">ÂèØÂÅú&nbsp;{props.to.empty_spaces}&nbsp;Âè∞</p>\n      </div>\n    </div>\n  );\n}\n\nRouteBox.defaultProps = {\n  from: {},\n  to: {},\n};\n\nexport default RouteBox;\n","import { useState } from \"react\";\nimport \"./header.css\";\n\nfunction Header(props) {\n  const [destination, setDestination] = useState(props.target);\n\n  function handleClick(event) {\n    const isChecked = event.target.checked;\n    const value = isChecked ? \"work\" : \"home\";\n    document.title = value;\n    props.onSwitchDestination(value);\n    setDestination(value);\n  }\n\n  return (\n    <div>\n      <label className=\"switch\">\n        <input\n          type=\"checkbox\"\n          id=\"togBtn\"\n          onClick={(e) => handleClick(e)}\n          defaultChecked={destination === \"work\"}\n        />\n        <div className=\"slider round\">\n          <span className=\"on\">üåû‰∏äÁè≠</span>\n          <span className=\"off\">‰∏ãÁè≠üåô</span>\n        </div>\n      </label>\n    </div>\n  );\n}\n\nexport default Header;\n","const routes2Work = [\n  { from: '0362', to: '0126' }, // ÂíåÂπ≥ÈáëÂ±±Ë∑ØÂè£>Êï¶ÂåñÂü∫ÈöÜË∑ØÂè£\n  // { from: '0182', to: '0126' }, // Êç∑ÈÅãÂè§‰∫≠Á´ô(2ËôüÂá∫Âè£)>Êï¶ÂåñÂü∫ÈöÜË∑ØÂè£\n  { from: '0087', to: '0126' }, // Êç∑ÈÅãÂ§ßÂÆâÁ´ô>Êï¶ÂåñÂü∫ÈöÜË∑ØÂè£\n  // { from: '0032', to: '0126' }, // Êç∑ÈÅãÂÖ≠ÂºµÁäÅÁ´ô>Êï¶ÂåñÂü∫ÈöÜË∑ØÂè£\n];\nconst routes2Home = [\n  { from: '0126', to: '0362' }, // Êï¶ÂåñÂü∫ÈöÜË∑ØÂè£>ÂíåÂπ≥ÈáëÂ±±Ë∑ØÂè£\n  { from: '0126', to: '0087' }, // Êï¶ÂåñÂü∫ÈöÜË∑ØÂè£>Êç∑ÈÅãÂ§ßÂÆâÁ´ô\n  { from: '500101092', to: '500101001' }, // ÂíåÂπ≥ÂØ¶Â∞èÊù±ÂåóÂÅ¥>Êç∑ÈÅãÁßëÊäÄÂ§ßÊ®ìÁ´ô\n  { from: '500101092', to: '500101002' }, // ÂíåÂπ≥ÂØ¶Â∞èÊù±ÂåóÂÅ¥>Âæ©ËààÂçóË∑Ø‰∫åÊÆµ273ËôüÂâç\n  { from: '500101091', to: '500101001' }, // ÂúãÂåóÊïôÂ§ßÂÅ¥ÈñÄÂçóÂÅ¥>Êç∑ÈÅãÁßëÊäÄÂ§ßÊ®ìÁ´ô\n  { from: '500101091', to: '500101002' }, // ÂúãÂåóÊïôÂ§ßÂÅ¥ÈñÄÂçóÂÅ¥>Âæ©ËààÂçóË∑Ø‰∫åÊÆµ273ËôüÂâç\n  { from: '500101019', to: '500101001' }, // ÂíåÂπ≥Ëá•ÈæçË°óÂè£>Êç∑ÈÅãÁßëÊäÄÂ§ßÊ®ìÁ´ô\n  { from: '500101019', to: '500101002' }, // ÂíåÂπ≥Ëá•ÈæçË°óÂè£>Âæ©ËààÂçóË∑Ø‰∫åÊÆµ273ËôüÂâç\n  // { from: '0126', to: '0032' }, //Êï¶ÂåñÂü∫ÈöÜË∑ØÂè£>Êç∑ÈÅãÂÖ≠ÂºµÁäÅÁ´ô\n];\n\nexport { routes2Work, routes2Home };\n","import { useState, useEffect } from 'react';\nimport RouteBox from './route-box';\nimport Header from './header';\nimport './App.css';\nimport { routes2Home, routes2Work } from './routes';\n\nfunction App() {\n  const safetyCount = 3;\n\n  const [stops, setStops] = useState([]);\n  const [target, setTarget] = useState(() => {\n    return new Date().getHours() >= 12 ? 'home' : 'work';\n  });\n  const [selectedView, setSelectedView] = useState([]);\n  useEffect(() => {\n    const v1Url =\n      'https://tcgbusfs.blob.core.windows.net/blobyoubike/YouBikeTP.json';\n    const v2Url =\n      'https://apis.youbike.com.tw/api/front/station/all?lang=tw&type=2';\n\n    Promise.all([\n      fetch(v1Url).then((res) => res.json()),\n      fetch(v2Url).then((res) => res.json()),\n    ]).then(([responseV1, responseV2]) => {\n      const v1 = Object.values(responseV1.retVal).map((o) => {\n        return {\n          station_no: o.sno,\n          name_tw: o.sna,\n          empty_spaces: Number(o.bemp),\n          available_spaces: Number(o.sbi),\n        };\n      });\n      const allStops = v1.concat(responseV2.retVal);\n      setStops(allStops);\n    });\n  }, []);\n\n  useEffect(() => {\n    setSelectedView(target === 'work' ? routes2Work : routes2Home);\n  }, [target]);\n\n  return (\n    <div className=\"App\">\n      <Header\n        onSwitchDestination={(t) => {\n          setTarget(t);\n        }}\n        target={target}\n      ></Header>\n\n      <ul>\n        {selectedView.map((route, index) => {\n          const from = stops.find(\n            (o) =>\n              o.station_no === route.from && o.available_spaces >= safetyCount\n          );\n          const to = stops.find(\n            (o) => o.station_no === route.to && o.empty_spaces >= safetyCount\n          );\n          return from && to ? (\n            <li key={index}>\n              <RouteBox from={from} to={to} />\n            </li>\n          ) : null;\n        })}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}